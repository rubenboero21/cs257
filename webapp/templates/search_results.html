<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results</title>
    <link rel="stylesheet" type= "text/css" href="{{ url_for('static',filename='search_results.css') }}">
    <script type="text/javascript" src="{{ url_for('static', filename='pokemon.js') }}" ></script>
</head>

<body>
    <body>
        <div class = "header">
            <!-- The following site was used to learn how to make an image a link:
            https://pagedart.com/blog/linking-images-in-html/ -->
            <a href = "/"><img id = "logo" alt = "Logo" src="{{ url_for('static', filename='logo.png') }}"></a>
            <a href = "/">Search Results</a>
            <a href = "/generations">Generations</a>
            <a href = "/legendaries">Legendaries</a>
            <a href = "/egg_groups">Egg Groups</a>
            <a href = "/types">Types</a>
            
            <div class="search_text_pair">
                <select id = "search_dropdown"> 
                    <option value = "pokemon">Pokémon</option> 
                    <option value = "pokedex_number">Pokédex Number</option> 
                    <option value = "ability">Ability</option> 
                    <option value = "type">Type</option> 
                </select>
                <input id = "search_bar" name = "search_bar" type="text" placeholder="search anything"/>
                <input id = "go_button" type="submit" value="Go"><br/> <!-- <br /> is line break-->
                <label for="search_bar"><a href = "">Advanced Search</a></label>
            </div>
        </div>
    
        <div class = "title_container">
            <h1>Search Results</h1>
        </div>
        <div class = "empty_space"></div>
        
        <!-- a list of dictionaries is passed in, then use jinja
        to parse out the individual data entries -->
        <table id="search_results_table">
            <tr id = "table_header"><td>Dex Number</td><td>Pokémon</td><td>Ability 1</td><td>Ability 2</td><td>Hidden Ability</td><td>Type 1</td><td>Type 2</td><td>Generation</td></tr>
            {%for pokemon in search_results%}
            <tr>
                <!-- will need to remove the underscores from the text that
                will be displayed -->
                <td>{{pokemon['dex_num']}}</td>
                <!-- loop counts the number of times the for loop has ran -->
                <!-- the replace function isnt working -->
                <!-- <td><a href = /{{url[loop.index0]}}>{{pokemon['name'] | replace("_", " ")}}</a></td>                 -->
                <td><a href = /{{url[loop.index0]}}>{{pokemon['name'] | replace("_", " ")}}</a></td>                
                <td>{{pokemon['ability1'] | replace("_", " ")}}</td>
                <td>{{pokemon['ability2'] | replace("_", " ")}}</td>
                <td>{{pokemon['ability3'] | replace("_", " ")}}</td>             
                <td>{{pokemon['type1']}}</td>
                <td>{{pokemon['type2']}}</td>
                <td>{{pokemon['generation'] | replace("_", " ")}}</td>
            </tr>
            {%endfor%}
        </table>
    </body>
</body>